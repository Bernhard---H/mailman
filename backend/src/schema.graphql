type Query {
  domains: [Domain!]!
  domain(id: Int!): Domain
  accounts: [Account!]!
  tlspolicies: [TLSPolicy!]!
}

type Mutation {
  createAccount(
    email: String!
    password: String!
    quota: Int
    enabled: Int
    sendonly: Int
  ): Account!
  createDomain(domain: String!): Domain!
  deleteDomain(id: Int!): String!
}

type Domain {
  id: Int!
  domain: String!
  accounts: AccountList!
}

type AccountList {
  count: Int
  nodes: [Account]!
}

type Account {
  id: Int!
  email: String!
  username: String!
  password: String!
  domain: Domain!
  quota: Int!
  enabled: Int!
  sendonly: Int!
  # Aggregate fields
  count: Int
}

type TLSPolicy {
  id: Int!
  domain: String!
  policy: String!
  params: String
}
